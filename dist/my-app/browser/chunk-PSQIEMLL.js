import{a as u}from"./chunk-QX4B65OJ.js";import{D as p,G as f,H as x,J as d,K as t,L as e,M as v,P as b,Q as n,R as s,S as l,fa as k,ja as C,pa as h,w as o,y as m,z as g}from"./chunk-IHJ2JVIV.js";function O(c,r){if(c&1&&(t(0,"div",28)(1,"div",14)(2,"div",29)(3,"strong"),n(4),e(),t(5,"span",30),n(6),e()()(),t(7,"div",15)(8,"div",31),v(9,"div",32),e(),t(10,"span"),n(11),e()(),t(12,"div",16)(13,"span"),n(14),e()(),t(15,"div",17),n(16),e(),t(17,"div",18),n(18),e(),t(19,"div",19),n(20),e(),t(21,"div",20)(22,"span"),n(23),e()()()),c&2){let i=r.$implicit,a=b();o(4),s(i.symbol),o(2),s(i.name),o(3),x("width",i.allocation,"%"),o(2),l("",i.allocation,"%"),o(2),d(a.getRiskClass(i.riskScore)),o(),s(i.riskScore),o(2),s(i.beta),o(2),l("",i.volatility,"%"),o(2),l("",i.var,"%"),o(2),d(a.getRecommendationClass(i.recommendation)),o(),l(" ",i.recommendation," ")}}var M=class c{constructor(r){this.authService=r}user$;portfolioRisks=[];overallRiskScore=0;riskCapacity="MODERATE";ngOnInit(){this.user$=this.authService.currentUser$,this.loadPortfolioRisks(),this.calculateOverallRisk()}loadPortfolioRisks(){this.portfolioRisks=[{symbol:"RELIANCE",name:"Reliance Industries",allocation:25,riskScore:6.2,beta:1.1,volatility:18.5,var:4.2,recommendation:"MAINTAIN"},{symbol:"TCS",name:"Tata Consultancy Services",allocation:20,riskScore:4.8,beta:.9,volatility:15.2,var:3.1,recommendation:"INCREASE"},{symbol:"GOLD",name:"Gold ETF",allocation:15,riskScore:3.5,beta:.2,volatility:12.8,var:2.1,recommendation:"MAINTAIN"},{symbol:"HDFC",name:"HDFC Bank",allocation:18,riskScore:5.1,beta:1,volatility:16.7,var:3.8,recommendation:"REDUCE"},{symbol:"INFY",name:"Infosys",allocation:12,riskScore:4.9,beta:.8,volatility:14.9,var:2.9,recommendation:"MAINTAIN"}]}calculateOverallRisk(){let r=this.portfolioRisks.reduce((i,a)=>i+a.riskScore*a.allocation/100,0);this.overallRiskScore=Math.round(r*10)/10}getRiskClass(r){return r<=3?"risk-low":r<=6?"risk-medium":"risk-high"}getRecommendationClass(r){switch(r){case"INCREASE":return"rec-increase";case"REDUCE":return"rec-reduce";default:return"rec-maintain"}}static \u0275fac=function(i){return new(i||c)(m(u))};static \u0275cmp=g({type:c,selectors:[["app-risk-management"]],decls:84,vars:6,consts:[[1,"risk-management-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/dashboard"],[1,"risk-overview"],[1,"risk-summary-card"],[1,"risk-score"],[1,"risk-label"],[1,"risk-metrics"],[1,"metric-card"],[1,"metric-value"],[1,"portfolio-analysis"],[1,"holdings-table"],[1,"table-header"],[1,"col-symbol"],[1,"col-allocation"],[1,"col-risk"],[1,"col-beta"],[1,"col-volatility"],[1,"col-var"],[1,"col-recommendation"],["class","table-row",4,"ngFor","ngForOf"],[1,"risk-insights"],[1,"insight-card"],[1,"stress-scenarios"],[1,"scenario"],[1,"scenario-name"],[1,"scenario-impact"],[1,"table-row"],[1,"symbol-info"],[1,"name"],[1,"allocation-bar"],[1,"allocation-fill"]],template:function(i,a){i&1&&(t(0,"div",0)(1,"header",1)(2,"h1"),n(3,"Portfolio Risk Management"),e(),t(4,"nav",2)(5,"a",3),n(6,"Dashboard"),e(),n(7," > Risk Management "),e()(),t(8,"div",4)(9,"div",5)(10,"h2"),n(11,"Overall Portfolio Risk"),e(),t(12,"div",6),n(13),e(),t(14,"div",7),n(15),e()(),t(16,"div",8)(17,"div",9)(18,"h3"),n(19,"Risk Capacity"),e(),t(20,"div",10),n(21),e()(),t(22,"div",9)(23,"h3"),n(24,"Diversification"),e(),t(25,"div",10),n(26,"Good"),e()(),t(27,"div",9)(28,"h3"),n(29,"Max Drawdown"),e(),t(30,"div",10),n(31,"-12.5%"),e()()()(),t(32,"div",11)(33,"h2"),n(34,"Portfolio Holdings Risk Analysis"),e(),t(35,"div",12)(36,"div",13)(37,"div",14),n(38,"Symbol"),e(),t(39,"div",15),n(40,"Allocation"),e(),t(41,"div",16),n(42,"Risk Score"),e(),t(43,"div",17),n(44,"Beta"),e(),t(45,"div",18),n(46,"Volatility"),e(),t(47,"div",19),n(48,"VaR (1%)"),e(),t(49,"div",20),n(50,"Action"),e()(),p(51,O,24,14,"div",21),e()(),t(52,"div",22)(53,"div",23)(54,"h3"),n(55,"Risk Recommendations"),e(),t(56,"ul")(57,"li"),n(58,"Consider reducing HDFC Bank allocation to improve risk-adjusted returns"),e(),t(59,"li"),n(60,"Your portfolio shows good diversification across sectors"),e(),t(61,"li"),n(62,"Gold allocation provides good hedge against market volatility"),e(),t(63,"li"),n(64,"Consider adding more defensive stocks for better risk management"),e()()(),t(65,"div",23)(66,"h3"),n(67,"Stress Test Results"),e(),t(68,"div",24)(69,"div",25)(70,"span",26),n(71,"Market Crash (-20%)"),e(),t(72,"span",27),n(73,"Portfolio Impact: -16.2%"),e()(),t(74,"div",25)(75,"span",26),n(76,"Interest Rate Rise (+2%)"),e(),t(77,"span",27),n(78,"Portfolio Impact: -8.5%"),e()(),t(79,"div",25)(80,"span",26),n(81,"Sector Rotation"),e(),t(82,"span",27),n(83,"Portfolio Impact: -4.1%"),e()()()()()()),i&2&&(o(12),d(a.getRiskClass(a.overallRiskScore)),o(),l(" ",a.overallRiskScore,"/10 "),o(2),l(" ",a.overallRiskScore<=3?"Low Risk":a.overallRiskScore<=6?"Moderate Risk":"High Risk"," "),o(6),s(a.riskCapacity),o(30),f("ngForOf",a.portfolioRisks))},dependencies:[C,k,h],styles:[".risk-management-page[_ngcontent-%COMP%]{min-height:100vh;background:#05060a;color:#f5f5f5;padding:20px}.page-header[_ngcontent-%COMP%]{margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 10px;color:#3f8cff;font-size:28px}.breadcrumb[_ngcontent-%COMP%]{font-size:14px;color:#aaa}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f8cff;text-decoration:none}.risk-overview[_ngcontent-%COMP%]{display:grid;grid-template-columns:300px 1fr;gap:20px;margin-bottom:40px}.risk-summary-card[_ngcontent-%COMP%]{background:#0b1018;border:1px solid #181f2e;border-radius:8px;padding:30px;text-align:center}.risk-summary-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;color:#f5f5f5}.risk-score[_ngcontent-%COMP%]{font-size:48px;font-weight:700;margin-bottom:10px}.risk-score.risk-low[_ngcontent-%COMP%]{color:#4caf50}.risk-score.risk-medium[_ngcontent-%COMP%]{color:#ff9800}.risk-score.risk-high[_ngcontent-%COMP%]{color:#f44336}.risk-label[_ngcontent-%COMP%]{font-size:16px;color:#aaa}.risk-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:15px}.metric-card[_ngcontent-%COMP%]{background:#0b1018;border:1px solid #181f2e;border-radius:8px;padding:20px;text-align:center}.metric-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#aaa;font-size:14px}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#f5f5f5}.portfolio-analysis[_ngcontent-%COMP%]{margin-bottom:40px}.portfolio-analysis[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;color:#f5f5f5}.holdings-table[_ngcontent-%COMP%]{background:#0b1018;border:1px solid #181f2e;border-radius:8px;overflow:hidden}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 80px 80px 100px 80px 120px;gap:15px;padding:15px 20px;align-items:center}.table-header[_ngcontent-%COMP%]{background:#181f2e;font-weight:700;font-size:12px;color:#aaa;text-transform:uppercase}.table-row[_ngcontent-%COMP%]{border-bottom:1px solid #181f2e}.table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.symbol-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#f5f5f5}.symbol-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:12px;color:#aaa}.allocation-bar[_ngcontent-%COMP%]{width:60px;height:6px;background:#282f3e;border-radius:3px;overflow:hidden;margin-bottom:5px}.allocation-fill[_ngcontent-%COMP%]{height:100%;background:#3f8cff}.col-allocation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:12px}.risk-low[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.risk-medium[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.risk-high[_ngcontent-%COMP%]{color:#f44336;font-weight:700}.rec-increase[_ngcontent-%COMP%]{background:#4caf50;color:#fff;padding:4px 8px;border-radius:4px;font-size:11px;font-weight:700}.rec-reduce[_ngcontent-%COMP%]{background:#f44336;color:#fff;padding:4px 8px;border-radius:4px;font-size:11px;font-weight:700}.rec-maintain[_ngcontent-%COMP%]{background:#6c757d;color:#fff;padding:4px 8px;border-radius:4px;font-size:11px;font-weight:700}.risk-insights[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}.insight-card[_ngcontent-%COMP%]{background:#0b1018;border:1px solid #181f2e;border-radius:8px;padding:20px}.insight-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;color:#3f8cff}.insight-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:#ccc}.insight-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;line-height:1.4}.stress-scenarios[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.scenario[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid #181f2e}.scenario[_ngcontent-%COMP%]:last-child{border-bottom:none}.scenario-name[_ngcontent-%COMP%]{color:#f5f5f5}.scenario-impact[_ngcontent-%COMP%]{color:#f44336;font-weight:700}@media (max-width: 768px){.risk-overview[_ngcontent-%COMP%], .risk-metrics[_ngcontent-%COMP%], .risk-insights[_ngcontent-%COMP%]{grid-template-columns:1fr}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:attr(class);font-weight:700;text-transform:capitalize}}"]})};export{M as RiskManagementComponent};
