import{a as I}from"./chunk-6CCAO6D2.js";import{a as E}from"./chunk-RJIURDSG.js";import{D as p,G as l,I as u,K as t,L as e,N as b,O as C,P as d,Q as r,R as m,S as s,Y as P,Z as v,fa as h,ga as O,ha as S,ja as M,pa as y,q as f,r as x,w as c,y as g,z as _}from"./chunk-KLAHMIOW.js";function z(i,a){if(i&1&&(t(0,"div",18)(1,"span",19),r(2,"Trial Active"),e(),t(3,"span",20),r(4),e()()),i&2){let n=d(2);c(4),s("",n.remainingTrialDays," days remaining")}}function F(i,a){if(i&1&&(t(0,"li"),r(1),e()),i&2){let n=a.$implicit;c(),m(n)}}function q(i,a){if(i&1&&(t(0,"div",11)(1,"div",12)(2,"h2"),r(3),e(),t(4,"div",13)(5,"div",14),r(6),e(),p(7,z,5,1,"div",15),e(),t(8,"div",16)(9,"h4"),r(10,"Your Current Features:"),e(),t(11,"ul"),p(12,F,2,1,"li",17),e()()()()),i&2){let n=a.ngIf,o=d();c(3),s("Current Plan: ",o.currentPlan==null?null:o.currentPlan.name,""),c(3),s("\u20B9",o.currentPlan==null?null:o.currentPlan.price,"/month"),c(),l("ngIf",n.subscriptionType==="TRIAL"),c(5),l("ngForOf",o.currentPlan==null?null:o.currentPlan.features)}}function A(i,a){i&1&&(t(0,"div",33),r(1,"Recommended"),e())}function D(i,a){i&1&&(t(0,"div",34),r(1,"Current Plan"),e())}function $(i,a){i&1&&(t(0,"span",35),r(1,"/month"),e())}function Y(i,a){i&1&&(t(0,"span",35),r(1,"Free"),e())}function N(i,a){if(i&1&&(t(0,"li")(1,"span",36),r(2,"\u2713"),e(),r(3),e()),i&2){let n=a.$implicit;c(3),s(" ",n," ")}}function R(i,a){i&1&&(t(0,"span"),r(1,"Upgrading..."),e())}function U(i,a){i&1&&(t(0,"span"),r(1,"Current Plan"),e())}function B(i,a){i&1&&(t(0,"span"),r(1,"Start Trial"),e())}function L(i,a){i&1&&(t(0,"span"),r(1,"Upgrade Now"),e())}function V(i,a){if(i&1){let n=b();t(0,"div",21)(1,"div",22)(2,"h3"),r(3),e(),p(4,A,2,0,"div",23)(5,D,2,0,"div",24),e(),t(6,"div",25)(7,"span",26),r(8,"\u20B9"),e(),t(9,"span",27),r(10),e(),p(11,$,2,0,"span",28)(12,Y,2,0,"span",28),e(),t(13,"div",29)(14,"ul"),p(15,N,4,1,"li",17),e()(),t(16,"div",30)(17,"button",31),C("click",function(){let T=f(n).$implicit,k=d();return x(k.upgradePlan(T.id))}),p(18,R,2,0,"span",32)(19,U,2,0,"span",32)(20,B,2,0,"span",32)(21,L,2,0,"span",32),e()()()}if(i&2){let n=a.$implicit,o=d();u("recommended",n.recommended)("current",o.isCurrentPlan(n.id)),c(3),m(n.name),c(),l("ngIf",n.recommended),c(),l("ngIf",o.isCurrentPlan(n.id)),c(5),m(n.price),c(),l("ngIf",n.price>0),c(),l("ngIf",n.price===0),c(3),l("ngForOf",n.features),c(2),u("btn-primary",!o.isCurrentPlan(n.id))("btn-current",o.isCurrentPlan(n.id)),l("disabled",o.isCurrentPlan(n.id)||o.upgrading),c(),l("ngIf",o.upgrading),c(),l("ngIf",!o.upgrading&&o.isCurrentPlan(n.id)),c(),l("ngIf",!o.upgrading&&!o.isCurrentPlan(n.id)&&n.price===0),c(),l("ngIf",!o.upgrading&&!o.isCurrentPlan(n.id)&&n.price>0)}}var w=class i{constructor(a,n){this.authService=a;this.subscriptionService=n}user$;plans=[];currentPlan=null;remainingTrialDays=0;upgrading=!1;ngOnInit(){this.user$=this.authService.currentUser$,this.loadPlans(),this.loadCurrentPlan(),this.remainingTrialDays=this.subscriptionService.getRemainingTrialDays()}loadPlans(){this.subscriptionService.getPlans().subscribe(a=>{this.plans=a})}loadCurrentPlan(){this.subscriptionService.getCurrentPlan().subscribe(a=>{this.currentPlan=a})}upgradePlan(a){this.upgrading=!0,this.subscriptionService.upgradePlan(a).subscribe({next:n=>{n&&(this.loadCurrentPlan(),window.location.reload())},error:n=>{console.error("Upgrade failed:",n)},complete:()=>{this.upgrading=!1}})}isCurrentPlan(a){return this.currentPlan?.id===a}static \u0275fac=function(n){return new(n||i)(g(E),g(I))};static \u0275cmp=_({type:i,selectors:[["app-subscription"]],decls:39,vars:4,consts:[[1,"subscription-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/dashboard"],["class","current-plan",4,"ngIf"],[1,"plans-section"],[1,"plans-grid"],["class","plan-card",3,"recommended","current",4,"ngFor","ngForOf"],[1,"faq-section"],[1,"faq-grid"],[1,"faq-item"],[1,"current-plan"],[1,"current-plan-card"],[1,"plan-details"],[1,"price"],["class","trial-info",4,"ngIf"],[1,"current-features"],[4,"ngFor","ngForOf"],[1,"trial-info"],[1,"trial-badge"],[1,"trial-days"],[1,"plan-card"],[1,"plan-header"],["class","plan-badge",4,"ngIf"],["class","plan-badge current",4,"ngIf"],[1,"plan-price"],[1,"currency"],[1,"amount"],["class","period",4,"ngIf"],[1,"plan-features"],[1,"plan-action"],[1,"btn-plan",3,"click","disabled"],[4,"ngIf"],[1,"plan-badge"],[1,"plan-badge","current"],[1,"period"],[1,"checkmark"]],template:function(n,o){n&1&&(t(0,"div",0)(1,"header",1)(2,"h1"),r(3,"Subscription Plans"),e(),t(4,"nav",2)(5,"a",3),r(6,"Dashboard"),e(),r(7," > Subscription "),e()(),p(8,q,13,4,"div",4),P(9,"async"),t(10,"div",5)(11,"h2"),r(12,"Choose Your Plan"),e(),t(13,"div",6),p(14,V,22,20,"div",7),e()(),t(15,"div",8)(16,"h2"),r(17,"Frequently Asked Questions"),e(),t(18,"div",9)(19,"div",10)(20,"h4"),r(21,"Can I cancel anytime?"),e(),t(22,"p"),r(23,"Yes, you can cancel your subscription at any time. You'll continue to have access until the end of your billing period."),e()(),t(24,"div",10)(25,"h4"),r(26,"What happens after my trial ends?"),e(),t(27,"p"),r(28,"After your 3-day trial, you can choose to upgrade to a paid plan or your account will be limited to basic features."),e()(),t(29,"div",10)(30,"h4"),r(31,"Are there any setup fees?"),e(),t(32,"p"),r(33,"No, there are no setup fees or hidden charges. You only pay the monthly subscription fee."),e()(),t(34,"div",10)(35,"h4"),r(36,"Can I upgrade or downgrade my plan?"),e(),t(37,"p"),r(38,"Yes, you can change your plan at any time. Changes will be reflected in your next billing cycle."),e()()()()()),n&2&&(c(8),l("ngIf",v(9,2,o.currentPlan&&o.user$)),c(6),l("ngForOf",o.plans))},dependencies:[M,h,O,S,y],styles:[".subscription-page[_ngcontent-%COMP%]{min-height:100vh;background:#05060a;color:#f5f5f5;padding:20px}.page-header[_ngcontent-%COMP%]{margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 10px;color:#3f8cff;font-size:28px}.breadcrumb[_ngcontent-%COMP%]{font-size:14px;color:#aaa}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f8cff;text-decoration:none}.current-plan[_ngcontent-%COMP%]{margin-bottom:40px}.current-plan-card[_ngcontent-%COMP%]{background:#0b1018;border:2px solid #3f8cff;border-radius:8px;padding:25px}.current-plan-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 15px;color:#3f8cff}.plan-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-bottom:20px}.price[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#f5f5f5}.trial-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.trial-badge[_ngcontent-%COMP%]{background:#ff6b35;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:700}.trial-days[_ngcontent-%COMP%]{color:#aaa;font-size:14px}.current-features[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;color:#f5f5f5}.current-features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:#ccc}.current-features[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.plans-section[_ngcontent-%COMP%]{margin-bottom:50px}.plans-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 30px;color:#f5f5f5;text-align:center;font-size:24px}.plans-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;max-width:1000px;margin:0 auto}.plan-card[_ngcontent-%COMP%]{background:#0b1018;border:1px solid #181f2e;border-radius:8px;padding:25px;text-align:center;position:relative;transition:all .3s}.plan-card[_ngcontent-%COMP%]:hover{border-color:#3f8cff;transform:translateY(-5px)}.plan-card.recommended[_ngcontent-%COMP%]{border-color:#00c851;box-shadow:0 0 20px #00c85133}.plan-card.current[_ngcontent-%COMP%]{border-color:#3f8cff;background:#3f8cff0d}.plan-header[_ngcontent-%COMP%]{margin-bottom:20px}.plan-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#f5f5f5;font-size:20px}.plan-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:700}.plan-badge[_ngcontent-%COMP%]:not(.current){background:#00c851;color:#fff}.plan-badge.current[_ngcontent-%COMP%]{background:#3f8cff;color:#fff}.plan-price[_ngcontent-%COMP%]{margin-bottom:25px}.currency[_ngcontent-%COMP%]{font-size:18px;color:#aaa;vertical-align:top}.amount[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:#f5f5f5}.period[_ngcontent-%COMP%]{font-size:14px;color:#aaa}.plan-features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 25px;text-align:left}.plan-features[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;color:#ccc}.checkmark[_ngcontent-%COMP%]{color:#00c851;font-weight:700;margin-right:10px;font-size:16px}.btn-plan[_ngcontent-%COMP%]{width:100%;padding:12px 20px;border:none;border-radius:6px;font-size:14px;font-weight:700;cursor:pointer;transition:all .3s}.btn-primary[_ngcontent-%COMP%]{background:#3f8cff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-current[_ngcontent-%COMP%]{background:#6c757d;color:#fff;cursor:not-allowed}.btn-plan[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.faq-section[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.faq-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 30px;color:#f5f5f5;text-align:center;font-size:24px}.faq-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:20px}.faq-item[_ngcontent-%COMP%]{background:#0b1018;border:1px solid #181f2e;border-radius:8px;padding:20px}.faq-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;color:#3f8cff;font-size:16px}.faq-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#ccc;line-height:1.5}@media (max-width: 768px){.plans-grid[_ngcontent-%COMP%], .faq-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.plan-details[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.trial-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}"]})};export{w as SubscriptionComponent};
