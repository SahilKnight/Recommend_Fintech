import{c as i,e as o,l as c,o as u,oa as a}from"./chunk-KLAHMIOW.js";var l=class s{constructor(t){this.router=t;let e=localStorage.getItem("currentUser");e&&this.currentUserSubject.next(JSON.parse(e))}currentUserSubject=new o(null);currentUser$=this.currentUserSubject.asObservable();login(t,e){return new i(r=>{setTimeout(()=>{let n={id:"1",email:t,subscriptionType:"TRIAL",trialEndsAt:new Date(Date.now()+2592e5)};localStorage.setItem("currentUser",JSON.stringify(n)),this.currentUserSubject.next(n),r.next(!0),r.complete()},500)})}register(t,e){return new i(r=>{setTimeout(()=>{let n={id:"1",email:t,subscriptionType:"TRIAL",trialEndsAt:new Date(Date.now()+2592e5)};localStorage.setItem("currentUser",JSON.stringify(n)),this.currentUserSubject.next(n),r.next(!0),r.complete()},500)})}logout(){localStorage.removeItem("currentUser"),this.currentUserSubject.next(null),this.router.navigate(["/login"])}isAuthenticated(){return this.currentUserSubject.value!==null}getCurrentUser(){return this.currentUserSubject.value}static \u0275fac=function(e){return new(e||s)(u(a))};static \u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"})};export{l as a};
